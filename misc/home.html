<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Yelp Visualizer</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />  
  <script src="https://code.jquery.com/jquery-1.11.2.min.js" type ="text/javascript"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/2.3.2/js/bootstrap.min.js" type ="text/javascript"></script>
  <script src="localStorage.js"></script>
  <style>a{cursor:pointer;}</style>
</head>
<body>
<div class="container">
<div class="navbar">
  <div class="navbar-inner">
    <a class="brand" href="#"><i class="fa fa-map-marker"></i> Yelp Visualizer</a>
    <ul class="nav">
      <li class="active"><a href="#"><i class="fa fa-globe"></i> Map</a></li>
      <li><a href="#"><i class="fa fa-info-circle"></i> About</a></li>
      <li><a href="#">Link</a></li>
    </ul>
  </div>
</div>
<style>
  #map {width:100%; height:500px; margin-bottom:40px; background-color:grey;}
  #left-nav{height:500px; max-height:500px; overflow-y:scroll;}
  select,input{width:90%}
  .well{width:80%;}
  .hidden{display:none;}
</style>
<div class="row">

<!-- BEGIN EDITABLE -->

<div id="left-nav" class="span3">
  <h2>Filters</h2>

  <label>City</label>
  <select id="input-city">
    <option value="Charlotte">Charlotte</option>
    <option value="Las Vegas">Las Vegas</option>
    <option value="Madison">Madison</option>
    <option value="Montreal">Montreal</option>
    <option value="Phoenix">Phoenix</option>
    <option value="Pittsburgh">Pittsburgh</option>
  </select>

  <br><br>

  <div class="text-center">
    <button id="search-btn" class="btn btn-primary"><i class="fa fa-search"></i> Search</button>
  </div>

  <br>

  <p><a onclick="useCurrentLocation()"><i class="fa fa-map-marker"></i> Current Location</a></p>

  <p><a onclick="toggleSave()"><i class="fa fa-save"></i> Save Search</a></p>

  <div id="save-well" class="well well-small hidden">
    <label>What would you like to name your search?</label>
    <input id="input-save" type="text"></input>
    <div class="text-center">
      <button id="save-btn" class="btn text-center" onclick="saveSearch()">Save</button>
    </div>
  </div>

  <p><a onclick="toggleUpload()"><i class="fa fa-upload"></i> Load Search</a></p>

  <div id="upload-well" class="well well-small">
    <label>Which search would you like to load?</label>
    <select id="input-upload"></select>
    <div class="text-center">
      <button id="load-btn" class="btn text-center" onclick="loadSearch()">Load</button>
    </div>
  </div>


</div>

<script>

var toggleSave = function () {
  $('#save-well').toggleClass('hidden');
};

var toggleUpload = function () {
  $('#upload-well').toggleClass('hidden');
};

var loadAllSearches = function () {
  var keys = db.load('keys');
  $('#input-upload').clear();
  for (var i = 0; i < keys.size; i++) {
    $('#input-upload').innerHTML += '<option>' + keys[i] + '</option>';
  }
};

$('#search-btn').click(function() {
  var formData = {};
  formData.city = $('#input-city').val();
  console.log(formData);
});

loadAllSearches();

</script>

<!-- END EDITABLE -->

<div class="span9">
<div id="map"></div>
</div>

</div> <!-- /.row -->
</div> <!-- /.container -->
</body>
</html>

